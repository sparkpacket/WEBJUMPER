<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>WEB JUMPER</title>
<link href="https://fonts.googleapis.com/css2?familyPress+Start+2P&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#0a0b1a; --neon:#00ffd5; --accent:#ff4dff; --muted:#9aa0c3;
}
html,body{height:100%;margin:0;background:linear-gradient(180deg,#05050a 0%, #07102a 60%);color:var(--muted);font-family:'Press Start 2P', monospace;}
.wrap{max-width:1200px;margin:28px auto;padding:18px;}
header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
h1{color:var(--neon);font-size:20px;margin:0}
.sub{font-size:10px;color:#7c84a7}
.center-controls{display:flex;gap:12px;justify-content:center;margin:18px 0}
.btn{background:transparent;border:2px solid var(--neon);padding:10px 16px;border-radius:8px;color:var(--neon);cursor:pointer}
.btn.secondary{border-color:var(--accent);color:var(--accent)}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px}
.card{background:rgba(0,0,0,0.35);padding:12px;border-radius:8px;display:flex;flex-direction:column;gap:10px}
.banner{height:80px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:11px;color:#05050a}
.domain{font-size:10px;word-break:break-all}
a.card-link{text-decoration:none}
.status{font-size:10px;padding:6px;border-radius:6px;text-align:center}
.ok{background:rgba(0,255,213,0.12);color:var(--neon)}
.dead{background:rgba(255,77,255,0.12);color:var(--accent)}
.sale{background:rgba(255,255,0,0.15);color:#ffd700}
.stripe-1{background:linear-gradient(135deg,#ff9fd6,#7be0ff)}
.stripe-2{background:linear-gradient(135deg,#ffd16b,#60d394)}
.stripe-3{background:linear-gradient(135deg,#8a7bff,#ff7bd6)}
footer{text-align:center;font-size:10px;margin-top:18px}
</style>
</head>

<body>
<div class="wrap">
<header>
  <div>
    <h1>WEB JUMPER</h1>
    <div class="sub">Retro random linkboard</div>
  </div>
</header>

<div class="center-controls">
  <button id="clearBtn" class="btn">CLEAR UNAVAILABLE</button>
  <button id="regenBtn" class="btn secondary">RE-GENERATE</button>
  <button id="recheckBtn" class="btn">RE-CHECK</button>
</div>

<main>
  <div id="grid" class="grid"></div>
</main>

<footer>
Domains marked "On Sale" are parked sellers like GoDaddy, Sedo, etc.
</footer>
</div>

<script>
const tlds = ['com','net','org','io','xyz','dev','site','tech','online','co','us','gg','me','info','club','app','store'];
const PARKING_HOSTS = [
  'godaddy.com','dan.com','sedo.com','namecheap.com',
  'afternic.com','hugedomains.com','onlinenic.com'
];

const grid = document.getElementById('grid');
const clearBtn = document.getElementById('clearBtn');
const regenBtn = document.getElementById('regenBtn');
const recheckBtn = document.getElementById('recheckBtn');

let currentSet = [];

function rand(min,max){return Math.floor(Math.random()*(max-min+1))+min}
function pick(a){return a[Math.floor(Math.random()*a.length)]}

function makeDomain(){
  let name='';
  const chars='abcdefghijklmnopqrstuvwxyz';
  for(let i=0;i<rand(3,10);i++) name+=chars[rand(0,25)];
  if(Math.random()<0.2) name+=rand(2,99);
  return name+'.'+pick(tlds);
}

function generateSet(n=30){
  const s=new Set();
  while(s.size<n) s.add(makeDomain());
  return currentSet=[...s];
}

function createCard(domain,idx){
  const a=document.createElement('a');
  a.className='card-link';
  a.href='https://'+domain;
  a.target='_blank';

  const c=document.createElement('div');
  c.className='card';

  const b=document.createElement('div');
  b.className='banner stripe-'+((idx%3)+1);
  b.textContent=domain.split('.')[0].toUpperCase();

  const d=document.createElement('div');
  d.className='domain';
  d.textContent=domain;

  const s=document.createElement('div');
  s.className='status';
  s.textContent='Checking...';

  c.append(b,d,s);
  a.appendChild(c);
  return {a,s};
}

async function checkAvailabilityAsync(domain){
  try{
    const dns=await fetch(`https://dns.google/resolve?name=${domain}&type=A`).then(r=>r.json());
    if(!dns.Answer) return 'dead';
  }catch{return 'dead'}

  return new Promise(resolve=>{
    const iframe=document.createElement('iframe');
    iframe.style.display='none';
    iframe.src='https://'+domain;
    const timeout=setTimeout(()=>{iframe.remove();resolve('dead')},4000);

    iframe.onload=()=>{
      clearTimeout(timeout);
      try{
        const href=iframe.contentWindow.location.href;
        if(PARKING_HOSTS.some(h=>href.includes(h))) resolve('sale');
        else resolve('ok');
      }catch{
        resolve('ok');
      }
      iframe.remove();
    };

    iframe.onerror=()=>{
      clearTimeout(timeout);
      iframe.remove();
      resolve('dead');
    };

    document.body.appendChild(iframe);
  });
}

async function render(list){
  grid.innerHTML='';
  for(let i=0;i<list.length;i++){
    const {a,s}=createCard(list[i],i);
    grid.appendChild(a);
    const r=await checkAvailabilityAsync(list[i]);
    s.className='status '+(r==='ok'?'ok':r==='sale'?'sale':'dead');
    s.textContent=r==='ok'?'OK':r==='sale'?'On Sale':'Unavailable';
  }
}

clearBtn.onclick=async()=>{
  const statuses=[...document.querySelectorAll('.status')];
  for(let i=0;i<statuses.length;i++){
    if(statuses[i].classList.contains('ok')) continue;
    let d,r;
    do{
      d=makeDomain();
      r=await checkAvailabilityAsync(d);
    }while(r!=='ok');
    currentSet[i]=d;
    statuses[i].textContent='OK';
    statuses[i].className='status ok';
    const card=statuses[i].closest('.card-link');
    card.href='https://'+d;
    card.querySelector('.domain').textContent=d;
    card.querySelector('.banner').textContent=d.split('.')[0].toUpperCase();
  }
};

regenBtn.onclick=()=>render(generateSet());
recheckBtn.onclick=()=>render(currentSet);

render(generateSet());
</script>
</body>
</html>
